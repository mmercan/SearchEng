angular.module("app").controller('productCtrl', ['$scope', '$http', '$routeParams', function ($scope, $http, $routeParams) {

    $scope.currentItem = {};
    if ($routeParams.id && $routeParams.id != "new") {

        $http.get('/api/product/' + $routeParams.id).then(function (result) {
            $scope.currentItem = result.data;
        });
        $scope.productID = 743;
        
        $scope.assemblyTree = [{ "$id": "2", "ProductAssembly": "Blade", "ComponentName": "Metal Sheet 5", "BillOfMaterialsID": 2433, "ProductAssemblyID": 316, "ComponentID": 486, "StartDate": "2004-09-05T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 4, "PerAssemblyQty": 1.00 }, { "$id": "3", "ProductAssembly": "Chain Stays", "ComponentName": "Metal Sheet 5", "BillOfMaterialsID": 1290, "ProductAssemblyID": 324, "ComponentID": 486, "StartDate": "2004-07-10T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 1.00 }, { "$id": "4", "ProductAssembly": "Down Tube", "ComponentName": "Metal Sheet 3", "BillOfMaterialsID": 875, "ProductAssemblyID": 327, "ComponentID": 483, "StartDate": "2004-06-26T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 1.00 }, { "$id": "5", "ProductAssembly": "Fork Crown", "ComponentName": "Metal Sheet 5", "BillOfMaterialsID": 492, "ProductAssemblyID": 350, "ComponentID": 486, "StartDate": "2004-04-18T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 4, "PerAssemblyQty": 1.00 }, { "$id": "6", "ProductAssembly": "Fork End", "ComponentName": "Metal Sheet 2", "BillOfMaterialsID": 1289, "ProductAssemblyID": 331, "ComponentID": 482, "StartDate": "2004-07-10T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 4, "PerAssemblyQty": 1.00 }, { "$id": "7", "ProductAssembly": "Head Tube", "ComponentName": "Metal Sheet 4", "BillOfMaterialsID": 3338, "ProductAssemblyID": 399, "ComponentID": 485, "StartDate": "2005-01-23T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 1.00 }, { "$id": "8", "ProductAssembly": "HL Fork", "ComponentName": "Blade", "BillOfMaterialsID": 2301, "ProductAssemblyID": 804, "ComponentID": 316, "StartDate": "2004-09-05T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 2.00 }, { "$id": "9", "ProductAssembly": "HL Fork", "ComponentName": "Fork Crown", "BillOfMaterialsID": 1204, "ProductAssemblyID": 804, "ComponentID": 350, "StartDate": "2004-09-09T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 1.00 }, { "$id": "10", "ProductAssembly": "HL Fork", "ComponentName": "Fork End", "BillOfMaterialsID": 17, "ProductAssemblyID": 804, "ComponentID": 331, "StartDate": "2004-04-04T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 2.00 }, { "$id": "11", "ProductAssembly": "HL Fork", "ComponentName": "Steerer", "BillOfMaterialsID": 3403, "ProductAssemblyID": 804, "ComponentID": 531, "StartDate": "2005-01-23T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 1.00 }, { "$id": "12", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Chain Stays", "BillOfMaterialsID": 1388, "ProductAssemblyID": 743, "ComponentID": 324, "StartDate": "2004-07-10T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 2.00 }, { "$id": "13", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Decal 1", "BillOfMaterialsID": 1849, "ProductAssemblyID": 743, "ComponentID": 325, "StartDate": "2004-07-20T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 2.00 }, { "$id": "14", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Decal 2", "BillOfMaterialsID": 3421, "ProductAssemblyID": 743, "ComponentID": 326, "StartDate": "2005-01-23T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 1.00 }, { "$id": "15", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Down Tube", "BillOfMaterialsID": 2509, "ProductAssemblyID": 743, "ComponentID": 327, "StartDate": "2004-09-05T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 1.00 }, { "$id": "16", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Head Tube", "BillOfMaterialsID": 3158, "ProductAssemblyID": 743, "ComponentID": 399, "StartDate": "2005-01-15T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 1.00 }, { "$id": "17", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "HL Fork", "BillOfMaterialsID": 172, "ProductAssemblyID": 743, "ComponentID": 804, "StartDate": "2004-04-04T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 1.00 }, { "$id": "18", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Paint - Black", "BillOfMaterialsID": 1389, "ProductAssemblyID": 743, "ComponentID": 492, "StartDate": "2004-07-10T00:00:00", "EndDate": null, "UnitMeasureCode": "OZ ", "BOMLevel": 2, "PerAssemblyQty": 8.00 }, { "$id": "19", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Seat Stays", "BillOfMaterialsID": 574, "ProductAssemblyID": 743, "ComponentID": 532, "StartDate": "2004-04-18T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 4.00 }, { "$id": "20", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Seat Tube", "BillOfMaterialsID": 955, "ProductAssemblyID": 743, "ComponentID": 533, "StartDate": "2004-06-26T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 1.00 }, { "$id": "21", "ProductAssembly": "HL Mountain Frame - Black, 42", "ComponentName": "Top Tube", "BillOfMaterialsID": 173, "ProductAssemblyID": 743, "ComponentID": 534, "StartDate": "2004-04-04T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 2, "PerAssemblyQty": 1.00 }, { "$id": "22", "ProductAssembly": "Seat Stays", "ComponentName": "Metal Sheet 7", "BillOfMaterialsID": 1769, "ProductAssemblyID": 532, "ComponentID": 484, "StartDate": "2004-09-19T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 1.00 }, { "$id": "23", "ProductAssembly": "Seat Tube", "ComponentName": "Metal Bar 2", "BillOfMaterialsID": 100, "ProductAssemblyID": 533, "ComponentID": 478, "StartDate": "2004-04-04T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 1.00 }, { "$id": "24", "ProductAssembly": "Steerer", "ComponentName": "Metal Sheet 6", "BillOfMaterialsID": 2094, "ProductAssemblyID": 531, "ComponentID": 487, "StartDate": "2004-08-08T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 4, "PerAssemblyQty": 1.00 }, { "$id": "25", "ProductAssembly": "Top Tube", "ComponentName": "Metal Sheet 2", "BillOfMaterialsID": 491, "ProductAssemblyID": 534, "ComponentID": 482, "StartDate": "2004-04-18T00:00:00", "EndDate": null, "UnitMeasureCode": "EA ", "BOMLevel": 3, "PerAssemblyQty": 1.00 }];
        $scope.workorderAndSales = [{ "$id": "89", "ProductID": 770, "TotalSales": 2270, "Ordered": 2270, "Stocked": 2258, "Scrapped": 12, "NetStocked": -12 }];
        $scope.inventory = [{ "$id": "90", "ProductID": 770, "LocationID": 7, "Name": "Finished Goods Storage", "Shelf": "N/A", "Bin": 0, "Quantity": 104 }, { "$id": "91", "ProductID": 770, "LocationID": 60, "Name": "Final Assembly", "Shelf": "N/A", "Bin": 0, "Quantity": 123 }];


        $scope.images = [];
        $scope.fileSelected = function (img) {
            $scope.images.push(img);
        };

    }

}]);